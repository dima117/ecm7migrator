Обзор ECM7 Migrator

= Вступление =

ECM7 Migrator - система контроля версий базы данных для .NET, похожая на Ruby on Rail's Migrations. Цель - облегчить применение изменений БД и обеспечить контроль версий БД.


= Поддерживаемые СУБД =

  * MySQL (5.0, 5.1);
  * Oracle (10g);
  * SQLite;
  * SQL Server (2000, 2005, CE).


= Способы выполнения изменений БД =

  * MSBuildTarget;
  * NAntTask;
  * консольное приложение;
  * API.


= Основные принципы =

Главная идея заключается в том, что для изменений базы данных вы создаете сборку, содержащую "Миграции". "Миграция" - это класс, унаследованный от базового класса Migration и задающий некоторые операции над базой данных.

Для каждой миграции должен быть указан номер версии, в которую перейдет БД после применения изменений. Миграции применяются в порядке нумерации.

Каждая миграция имеет метод _Up_, содержащий изменения для перехода к следующей версии БД, и метод _Down_, содержащий изменения для перехода к предыдущей версии.

Учет версий и изменение БД выполняются автоматически.


= ECM7.Migrator и Migrator.NET =

ECM7.Migrator является веткой проекта Migrator.NET (http://code.google.com/p/migratordotnet/).
В последнее время создается впечатление, что проект Migrator.NET не развивается. Кроме того возникла необходимость в некоторой специфической функциональности, для которой было неизвестно, будет ли она нужна в проекте Migrator.NET. В то же время некоторые функции оригинального мигратора показались "лишними" (например, поддержка PostgreSQL).

В результате был создан данный проект.

На данный момент исправлено несколько ошибок, приведены в порядок модульные тесты и выполнен серьезный рефакторинг.
Также был удален провайдер для поддержки СУБД PostgreSQL.